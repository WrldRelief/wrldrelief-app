## **Wrld Relief 시스템 PRD (Product Requirements Document)**

## **1. 프로젝트 개요**

Wrld Relief는 재난 및 위기 상황에서 투명하고 신뢰할 수 있는 기부, 구호, 수혜 과정을 온체인으로 연결하는 Web3 기반 플랫폼입니다.

기부자, 구호단체, 수혜자 모두에게 실시간 추적, 신뢰성, 개인정보 보호, 투명성, 효율성을 제공합니다.

## **2. 주요 역할 및 서비스 흐름**

| **역할**                                                                                  | **핵심 기능 요약**                                                                                      | **온체인 요소 및 데이터 조회 방식**                                                                                     |
| ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------- |
| Donor                                                                                     | 재난 지도 → 캠페인 선택 → USDC 기부(월렛 인증) → 기부 흐름 실시간 추적 → 수혜 확인                      | - 스마트 컨트랙트 통한 온체인 기부 트랜잭션- 수혜자 SBT 열람 - **기부 내역/히스토리: The Graph Subgraph로 실시간 조회** |
| Organization/Agent                                                                        | 재난 지도 → 재난 상세 보기 → 캠페인 생성/관리 → 분배 계획/실행 → 온체인 기록                            | - 온체인 캠페인/분배 내역 기록- **캠페인별 기부/분배 히스토리: The Graph Subgraph로 조회**                              |
| Recipient                                                                                 | 재난 지도 → 재난 상세 보기 → 캠페인 상세 보기 → 구호품/구호금 수령 → 수혜 SBT 자동 발급 및 이력 관리    | - DID + ZKP 인증- 수혜 기록 SBT 발급- **수혜 내역: The Graph Subgraph로 실시간 조회**                                   |
| Wrld Relief Foundation (WRF)                                                              | 후원자가 후원한 금액의 3%중 절반은 플랫폼 운영비 절반은 Wrld Relief Foundation Fund (Treasury) 로 적립, |
| Wrld Relief Foundation에 적립된 금액만큼 WRLF governance token을 민팅하여 후원자에게 분배 |                                                                                                         |

## **2.1 The Graph Subgraph 활용 방식**

- **The Graph의 Subgraph**는 스마트 컨트랙트에서 발생하는 기부, 캠페인, 분배, SBT 발급 등 모든 온체인 이벤트를 효율적으로 인덱싱하고,
  프론트엔드/백엔드에서 GraphQL API로 실시간 조회할 수 있게 합니다
  기부 내역, 캠페인 히스토리, 수혜 내역 등은 The Graph Subgraph로 조회
- 예시 활용:
  - 기부자: 내가 참여한 캠페인, 기부 내역 SBT, 실시간 집행 현황 조회
  - 오거나이저: 캠페인별 전체 기부 히스토리, 분배 내역, 수혜자 리스트 조회
  - 수혜자: 본인 수혜 내역, SBT 발급 현황, 과거 이력 실시간 확인

## **2.2 요약**

- **온체인 데이터(기부, 캠페인, 분배, SBT 등)는 The Graph Subgraph를 통해 효율적이고 신뢰성 있게 조회**
- **GraphQL API로 실시간 데이터 제공** → 사용자(기부자, 구호단체, 수혜자)별 맞춤형 히스토리/현황 화면 구현 용이

## **3. 주요 기능 및 요구사항**

## **필수 구현 및 기술 스택**

- **기부:** 반드시 온체인(스마트 컨트랙트)으로만 처리, USDC 지원
- **재난 데이터:** 실제 외부 API(OCHA)에서 실시간 수집 및 추천(예: Langchain, MCP 래핑) → 목적: 재난 지도에 표기
- **캠페인 생성** :오거나이저(구호단체)가 수동으로 생성
- **WorldCoin:** 실제 WorldCoin 시스템과 연동, World App 등록, World ID로 신원 인증(모바일 in-app)
- **SBT:** 기부자, 수혜자 SBT는 실제 스마트 컨트랙트로 발행, 분배 완료 시 자동 발급
- **UI/UX:** World UI Kit 등 공식 디자인 시스템 실제 적용
- **온체인 데이터 인덱싱:**
  - **The Graph Subgraph를 실제 배포/연동**
  - 기부 내역, 캠페인 이력, 분배/수혜 내역 등은 모두 Subgraph를 통해 실시간 GraphQL API로 조회
- **시연 환경:**
  - 모바일(월드코인 앱 in-app) 환경에서만 시연
  - 실제 이더리움 메인넷에서 동작
- WRLF governance token 생성.

## **3.1 캠페인 생성 및 관리 (Organization)**

- 오거나이저(구호단체)는 로그인 상태에서만 캠페인 생성 가능
- 재난 ID는 URL 쿼리로 전달
- 입력 항목: 캠페인명, 설명, 시작일/종료일, 지원 물품/서비스(복수 선택), 캠페인 이미지(파일 업로드)
- 캠페인 생성/가능(단, 기부 발생 이후에는 수정/삭제 불가)
- 캠페인 관리 및 분배(수혜자 선정, 할당) 권한 보유

## **3.2 AI 재난 분석 및 캠페인 추천**

- 외부 AI를 MCP(Multi-Context Provider)로 래핑해 사용(Langchain+Node.js)
- The Graph Subgraphs MCP 또는 Token API MCP로 데이터 수집
- AI는 캠페인 추천만 제공, 실제 입력·생성은 (Organization/Agent 사람)이 수동으로 수행

## **3.3 기부(후원)**

- USDC만 지원(Circle Paymaster)
- 금액 제한 없음
- 월드코인 앱에서 인증된 지갑만 기부 가능
- 기부자 정보: 월드코인 이름, 월렛 주소만 저장(익명 기부 미구현)
- 모든 기부 트랜잭션은 Sepolia(EVM) testnet 체인에 온체인 기록
- 기부자는 후원 완료 시 SBT(Soulbound Token) 자동 발급

## **3.4 수혜 분배 및 SBT 발급**

- 분배 완료 시 수혜자에게 SBT(Soulbound Token) 자동 발급
- SBT에는 재난, 캠페인 종류, 수혜받은 물품/금액 정보만 포함(개인정보 최소화)
- 수혜자 인증은 WorldCoin의 World ID(ZK 인증) 필수! DID

## **3.5 온체인 기록 및 투명성**

- 캠페인 생성, 기부, 분배 등 모든 과정은 온체인에 기록
- 데이터는 Sepolia EVM 기반 testnet 체인에 저장

## **3.6 플랫폼 및 언어**

- 영어만 지원
- WorldCoin App in-app 환경(모바일 전용)
- 알림 기능 현재 없음 (Later)

## **4. 기술 스택 및 구조**

- **프론트엔드:** FSD(Feature-Sliced Design) 구조, React, World UI Kit
- **인증:** **Privy**(지갑 인증), **Worldcoin**(월드 ID)
- **블록체인:** wagmi, viem, Sepolia(EVM)
- **AI/데이터:** 외부 AI(MCP 래핑, Langchain, Node.js), The Graph Subgraphs/Token API
- **스마트 컨트랙트:** 캠페인, 기부, 분배, SBT 발급, Circle Paymaster

## **5. 제한 및 정책**

- 캠페인에 기부가 발생하면 수정/삭제 불가(신뢰성 보장).
- 모든 개인정보는 월드코인 이름, 월렛 주소만 저장(최소화)
- 캠페인 이미지는 파일 업로드만 지원, 외부 URL 불가
- 지원 물품/서비스는 복수 선택 가능
